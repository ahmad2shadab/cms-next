<!-- Header Component -->
<header id="mainHeader" class="fixed top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 transition-all duration-300">
    <div class="container mx-auto px-6">
        <div class="flex h-16 items-center justify-between">
            <!-- Logo Section -->
            <div class="flex items-center space-x-4">
                <img 
                    src="https://d3u7ubx0okog7j.cloudfront.net/images/cil_new_logo1.original.png" 
                    alt="Coal India Limited Logo" 
                    class="h-10 w-10 object-contain transition-transform duration-200 hover:scale-110"
                >
                <div class="hidden sm:block">
                    <div class="text-sm font-medium text-muted-foreground">Coal India Limited</div>
                </div>
            </div>
            
            <!-- Centered Title -->
            <div class="flex-1 text-center">
                <h1 class="bg-gradient-to-r from-slate-900 via-blue-800 to-slate-900 bg-clip-text text-2xl font-bold text-transparent lg:text-3xl">
                    e-Nivaran
                </h1>
                <p class="hidden text-xs text-muted-foreground lg:block">Ex-Employee Grievance Management System</p>
            </div>
            
            <!-- Navigation & Actions -->
            <div class="flex items-center space-x-4">
                <!-- Theme Toggle -->
                <button 
                    id="themeToggle"
                    class="inline-flex h-9 w-9 items-center justify-center rounded-md border border-input bg-background text-sm font-medium shadow-sm transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"
                    title="Toggle theme"
                >
                    <i class="fas fa-sun h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"></i>
                    <i class="fas fa-moon absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"></i>
                    <span class="sr-only">Toggle theme</span>
                </button>
                
                <!-- Desktop Navigation -->
                <nav class="hidden md:flex md:items-center md:space-x-6">
                    <a href="/index.html" onclick="navigateToSection('landing')" class="text-sm font-medium transition-colors hover:text-primary">
                        Home
                    </a>
                    <a href="/dashboard.html" onclick="navigateToSection('dashboard')" class="text-sm font-medium transition-colors hover:text-primary">
                        Dashboard
                    </a>
                    <!-- <button 
                        onclick="navigateToSection('register')" 
                        class="inline-flex h-9 items-center justify-center rounded-md bg-primary px-4 py-2 text-xs font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"
                    >
                        <i class="fas fa-plus mr-2"></i>
                        New Grievance
                    </button> -->
                </nav>
                
                <!-- Mobile Menu Button -->
                <button 
                    id="mobileMenuToggle"
                    class="inline-flex h-9 w-9 items-center justify-center rounded-md border border-input bg-background text-sm font-medium shadow-sm transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring md:hidden"
                >
                    <i class="fas fa-bars h-4 w-4"></i>
                    <span class="sr-only">Toggle menu</span>
                </button>
            </div>
        </div>
        
        <!-- Mobile Navigation Menu -->
        <div id="mobileMenu" class="hidden border-t bg-background pb-4 pt-4 md:hidden">
            <nav class="flex flex-col space-y-3">
                <a href="#" onclick="navigateToSection('landing')" class="text-sm font-medium transition-colors hover:text-primary">
                    Home
                </a>
                <a href="#" onclick="navigateToSection('dashboard')" class="text-sm font-medium transition-colors hover:text-primary">
                    Dashboard
                </a>
                <!-- <button 
                    onclick="navigateToSection('register')" 
                    class="inline-flex h-9 items-center justify-center rounded-md bg-primary px-4 py-2 text-xs font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"
                >
                    <i class="fas fa-plus mr-2"></i>
                    New Grievance
                </button> -->
            </nav>
        </div>
    </div>
</header>

<!-- Add padding to body to account for fixed header -->
<div class="pt-16">
    <!-- Your main content goes here -->
</div>

<script>
// Header initialization
function initializeHeader() {
    const header = document.getElementById('mainHeader');
    
    // Scroll effect for translucent background
    let lastScrollTop = 0;
    
    window.addEventListener('scroll', () => {
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        
        if (scrollTop > 10) {
            // Scrolled - more translucent background
            header.classList.remove('bg-background/95');
            header.classList.add('bg-background/70', 'shadow-md');
        } else {
            // At top - less translucent background
            header.classList.remove('bg-background/70', 'shadow-md');
            header.classList.add('bg-background/95');
        }
        
        lastScrollTop = scrollTop;
    });
    
    // Theme toggle
    const themeToggle = document.getElementById('themeToggle');
    const html = document.documentElement;
    
    // Check for saved theme preference or default to system preference
    const savedTheme = localStorage.getItem('theme');
    const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    const currentTheme = savedTheme || systemTheme;
    
    html.classList.toggle('dark', currentTheme === 'dark');
    
    themeToggle?.addEventListener('click', () => {
        const isDark = html.classList.contains('dark');
        html.classList.toggle('dark', !isDark);
        localStorage.setItem('theme', !isDark ? 'dark' : 'light');
    });
    
    // Mobile menu toggle
    const mobileMenuToggle = document.getElementById('mobileMenuToggle');
    const mobileMenu = document.getElementById('mobileMenu');
    
    mobileMenuToggle?.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
        const isOpen = !mobileMenu.classList.contains('hidden');
        const icon = mobileMenuToggle.querySelector('i');
        
        icon.className = isOpen ? 'fas fa-times h-4 w-4' : 'fas fa-bars h-4 w-4';
    });
    
    // Close mobile menu when clicking outside
    document.addEventListener('click', (e) => {
        if (!mobileMenuToggle?.contains(e.target) && !mobileMenu?.contains(e.target)) {
            mobileMenu?.classList.add('hidden');
            const icon = mobileMenuToggle?.querySelector('i');
            if (icon) {
                icon.className = 'fas fa-bars h-4 w-4';
            }
        }
    });
}
</script>
